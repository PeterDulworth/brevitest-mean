<section data-ng-controller="DevicesController" data-ng-init="find()">
  <div class="page-header">
    <button class="btn btn-lg btn-default pull-right glyphicon glyphicon-refresh" ng-click="refresh()" type="button"></button>
    <h1>Devices</h1>

  </div>
  <div class="list-group">
    <a class="list-group-item" data-ng-href="#!/devices/{{device._id}}" data-ng-repeat="device in devices">
      <small class="list-group-item-text">
        Posted on
        <span data-ng-bind="device.created | date:'medium'"></span>
        by
        <span data-ng-bind="device.user.displayName"></span>
      </small>

      <h4 class="list-group-item-heading">
        {{device.name}}<span class="badge pull-right" ng-class="{'btn btn-success': device.connected, 'btn btn-danger': !device.connected}"}>{{device.connected ? 'Online' : 'Offline'}}</span>
      </h4>
      <h5 class="list-group-item-heading" data-ng-bind="device.particleID"></h5>
    </a>
  </div>
  <div class="alert alert-warning text-center" data-ng-hide="!devices.$resolved || devices.length">
    No Devices yet, why don't you
    <a href="/#!/devices/create">create one</a>?
  </div>
</section>
